(function(i){var d=d||function(d,a){if(d){var c={welcome:"",prompt:"",separator:"&gt;",theme:"interlaced"},a=a||c;a.welcome=a.welcome||c.welcome;a.prompt=a.prompt||c.prompt;a.separator=a.separator||c.separator;a.theme=a.theme||c.theme;var i=Array.prototype.slice.call(arguments,2),e=localStorage.history?JSON.parse(localStorage.history):[],f=e.length,m="",g=document.getElementById(d);g.classList.add("terminal");g.classList.add("terminal-"+a.theme);g.insertAdjacentHTML("beforeEnd",['<div class="background"><div class="interlace"></div></div><div class="container"><output></output><table class="input-line">',
'<tr><td nowrap><div class="prompt">'+a.prompt+a.separator+'</div></td><td width="100%"><input class="cmdline" autofocus /></td></tr>',"</table></div>"].join(""));var c=g.querySelector(".container"),l=c.querySelector(".input-line"),h=c.querySelector(".input-line .cmdline"),j=c.querySelector("output"),n=c.querySelector(".prompt"),k=document.querySelector(".background");j.addEventListener("DOMSubtreeModified",function(){setTimeout(function(){h.scrollIntoView()},0)},!1);a.welcome&&(j.insertAdjacentHTML("beforeEnd",
a.welcome),h.scrollIntoView());window.addEventListener("click",function(){h.focus()},!1);j.addEventListener("click",function(b){b.stopPropagation()},!1);h.addEventListener("click",function(){this.value=this.value},!1);l.addEventListener("click",function(){h.focus()},!1);h.addEventListener("keyup",function(b){if(b.keyCode==27){this.value="";b.stopPropagation();b.preventDefault()}if(e.length&&(b.keyCode==38||b.keyCode==40)){e[f]?e[f]=this.value:m=this.value;if(b.keyCode==38){f--;f<0&&(f=0)}else if(b.keyCode==
40){f++;if(f>e.length)f=e.length}this.value=this.value=e[f]?e[f]:m}},!1);h.addEventListener("keydown",function(b){if(b.keyCode==13){if(b=this.value){e[e.length]=b;localStorage.history=JSON.stringify(e);f=e.length}var a=this.parentNode.parentNode.parentNode.parentNode.cloneNode(true);a.removeAttribute("id");a.classList.add("line");var c=a.querySelector("input.cmdline");c.autofocus=false;c.readOnly=true;c.insertAdjacentHTML("beforebegin",c.value);c.parentNode.removeChild(c);j.appendChild(a);l.classList.add("hidden");
this.value="";if(b&&b.trim())var d=b.split(" ").filter(function(a){return a}),g=d[0],d=d.splice(1);if(g){var b=false,k;for(k in i){a=i[k];a.execute&&(b=a.execute(g,d));if(b!==false)break}b===false&&(b=g+": command not found");j.insertAdjacentHTML("beforeEnd",b);h.scrollIntoView()}l.classList.remove("hidden")}},!1);window.addEventListener("keyup",function(a){h.focus();a.stopPropagation();a.preventDefault()},!1);return{clear:function(){j.innerHTML="";h.value="";k.style.minHeight=""},setPrompt:function(b){n.innerHTML=
b+a.separator},getPrompt:function(){return n.innerHTML.replace(RegExp(a.separator+"$"),"")},setTheme:function(b){g.classList.remove("terminal-"+a.theme);a.theme=b;g.classList.add("terminal-"+a.theme)},getTheme:function(){return a.theme}}}};if("undefined"!==typeof module&&module.exports)module.exports=d;else{var k=i.Terminal;d.noConflict=function(){i.Terminal=k;return d};i.Terminal=d}})(this);
